(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d9936ef"],{bded:function(e,t,r){"use strict";r("e144")},d667:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-followers"},[e.followers.length>0?e._l(e.followers,(function(t){return r("div",{key:t.followerId,staticClass:"user-followers-card"},[r("router-link",{staticClass:"user-followers-card__avatar",attrs:{to:{name:"sub-profile",params:{id:t.id}}}},[t.avatar?r("img",{staticClass:"user-followers-card__avatar--img",attrs:{src:t.avatar,alt:""}}):e._e()]),r("div",{staticClass:"user-followers-card__container"},[r("div",{staticClass:"user-followers-card__container__info"},[r("div",{staticClass:"user-followers-card__container__info__user"},[r("router-link",{staticClass:"user-followers-card__container__info__user--name",attrs:{to:{name:"sub-profile",params:{id:t.id}}}},[e._v(" "+e._s(t.name)+" ")]),r("router-link",{staticClass:"user-followers-card__container__info__user--account",attrs:{to:{name:"sub-profile",params:{id:t.id}}}},[e._v(" "+e._s("@"+t.account)+" ")])],1),t.isFollowing?r("button",{staticClass:"user-followers-card__container__info__button button button-followed",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.deleteFollowing(t.followerId)}}},[e._v(" 正在跟隨 ")]):e._e(),t.isFollowing?e._e():r("button",{staticClass:"user-followers-card__container__info__button button button-not-followed",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.addFollowing(t.followerId)}}},[e._v(" 跟隨 ")])]),r("div",{staticClass:"user-followers-card__container--text"},[e._v(" "+e._s(t.introduction?t.introduction:"")+" ")])])],1)})):r("div",[r("h5",{staticClass:"mt-6 text-center"},[e._v("目前沒有追隨者")])])],2)},n=[],a=r("5530"),s=r("1da1"),l=(r("96cf"),r("d9e2"),r("4e82"),r("d81d"),r("4cce")),i=r("2fa3"),c={name:"UserFollowers",data:function(){return{followers:[]}},methods:{fetchFollowers:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l["a"].getFollowers({userId:e});case 3:if(o=r.sent,200===o.status){r.next=6;break}throw new Error(o.statusText);case 6:t.followers=o.data,t.followers=t.followers.sort((function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),i["a"].fire({icon:"error",title:"無法取得追蹤資料，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},addFollowing:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l["a"].addFollowing({followerId:e});case 3:if(o=r.sent,200===o.status){r.next=6;break}throw new Error(o.statusText);case 6:t.followers=t.followers.map((function(t){return t.followerId!==e?t:Object(a["a"])(Object(a["a"])({},t),{},{isFollowing:!0})})),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),i["a"].fire({icon:"error",title:"無法追蹤使用者，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deleteFollowing:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l["a"].deleteFollowing({followingId:e});case 3:if(o=r.sent,200===o.status){r.next=6;break}throw new Error(o.statusText);case 6:t.followers=t.followers.map((function(t){return t.followerId!=e?t:Object(a["a"])(Object(a["a"])({},t),{},{isFollowing:!1})})),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),i["a"].fire({icon:"error",title:"無法取消追蹤使用者，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()}},created:function(){var e=this.$route.params.id;this.fetchFollowers(e)}},u=c,f=(r("bded"),r("2877")),d=Object(f["a"])(u,o,n,!1,null,"71cf4921",null);t["default"]=d.exports},e144:function(e,t,r){}}]);
//# sourceMappingURL=chunk-4d9936ef.4b88bf6f.js.map