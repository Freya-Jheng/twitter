{"version":3,"sources":["webpack:///./src/views/SubProfileResponses.vue?dae7","webpack:///src/views/SubProfileResponses.vue","webpack:///./src/views/SubProfileResponses.vue?8bd0","webpack:///./src/views/SubProfileResponses.vue","webpack:///./src/views/SubProfileResponses.vue?1638"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","tweet","key","id","attrs","currentUser","avatar","name","params","Tweet","User","_v","_s","UserId","account","_f","createdAt","tweet_id","TweetId","comment","staticRenderFns","data","TweetsArray","mixins","fromNowFilter","watch","handler","fetchResponses","fetchCurrentUser","deep","immediate","created","methods","userId","userAPI","console","a","Toast","icon","title","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmBN,EAAIO,GAAIP,EAAe,aAAE,SAASQ,GAAO,OAAOJ,EAAG,MAAM,CAACK,IAAID,EAAME,GAAGJ,YAAY,0BAA0B,CAACF,EAAG,cAAc,CAACE,YAAY,iCAAiCK,MAAM,CAAC,GAAK,KAAK,CAACP,EAAG,MAAM,CAACE,YAAY,cAAcK,MAAM,CAAC,IAAMX,EAAIY,YAAYC,OAAO,IAAM,QAAQT,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAACF,EAAG,cAAc,CAACE,YAAY,8CAA8CK,MAAM,CAAC,GAAK,CAACG,KAAM,cAAeC,OAAQ,CAACL,GAAIF,EAAMQ,MAAMC,KAAKP,OAAO,CAACV,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIY,YAAYE,SAASV,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,cAAc,CAACE,YAAY,cAAcK,MAAM,CAAC,GAAK,CAACG,KAAM,qBAAsBC,OAAQ,CAAEL,GAAIF,EAAMY,WAAY,CAACpB,EAAIkB,GAAG,IAAIlB,EAAImB,GAAG,IAAMnB,EAAIY,YAAYS,SAAS,OAAOrB,EAAIkB,GAAG,MAAMlB,EAAImB,GAAGnB,EAAIsB,GAAG,UAAPtB,CAAkBQ,EAAMe,YAAY,MAAM,IAAI,GAAGnB,EAAG,MAAM,CAACE,YAAY,6CAA6C,CAACF,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIkB,GAAG,OAAOd,EAAG,cAAc,CAACE,YAAY,cAAcK,MAAM,CAAC,GAAK,CAACG,KAAM,qBAAsBC,OAAQ,CAAEL,GAAIF,EAAMQ,MAAMC,KAAKP,OAAQ,CAACV,EAAIkB,GAAG,IAAIlB,EAAImB,GAAG,IAAMX,EAAMQ,MAAMC,KAAKI,SAAS,QAAQ,KAAKjB,EAAG,cAAc,CAACE,YAAY,yCAAyCK,MAAM,CAAC,GAAK,CAACG,KAAM,mBAAoBC,OAAQ,CAACS,SAAUhB,EAAMiB,YAAY,CAACzB,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGX,EAAMkB,aAAa,IAAI,MAAK,IAClgDC,EAAkB,G,gFCgDP,GACbb,KAAMA,qBACNc,KAFF,WAGI,MAAO,CACLC,YAAaA,GACbjB,YAAaA,KAGjBkB,OAAQA,CACVC,QAEEC,MAAOA,CACL,mBAAoB,CAClBC,QAASA,SAAfA,GACQhC,KAAKiC,eAAexB,GACpBT,KAAKkC,iBAAiBzB,IAGxB0B,MAAMA,EACNC,WAAWA,IAGfC,QAtBF,aA2BEC,QAASA,CACPL,eADJ,SACAM,GAAA,yLAEAC,yBAAAD,WAFA,mBAEAZ,EAFA,EAEAA,KAEAA,mBAJA,sBAKA,qBALA,OAQA,gBACAc,oBACA,gDACA,gCACA,EACAC,oCACA,EACA,KAfA,qDAmBAD,kBACAE,aACAC,aACAC,sBAtBA,6DA0BIX,iBA3BJ,SA2BAK,GAAA,yLAEAC,YAAAD,WAFA,mBAEAZ,EAFA,EAEAA,KACAA,qBAHA,sBAIA,qBAJA,OAOA,gBAPA,qDASAc,kBACAE,aACAC,aACAC,uBAZA,+DCvG6V,I,wBCQzVC,EAAY,eACd,EACAhD,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E,oECnBf","file":"js/chunk-648bcbfe.14825ee8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile__tweets\"},_vm._l((_vm.TweetsArray),function(tweet){return _c('div',{key:tweet.id,staticClass:\"profile__tweets__tweet\"},[_c('router-link',{staticClass:\"profile__tweets__tweet__avatar\",attrs:{\"to\":\"\"}},[_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm.currentUser.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"profile__tweets__tweet__wrapper\"},[_c('div',{staticClass:\"profile__tweets__tweet__wrapper__info\"},[_c('router-link',{staticClass:\"profile__tweets__tweet__wrapper__info--name\",attrs:{\"to\":{name: 'sub-profile', params: {id: tweet.Tweet.User.id}}}},[_vm._v(_vm._s(_vm.currentUser.name))]),_c('div',{staticClass:\"profile__tweets__tweet__wrapper__info--account\"},[_c('router-link',{staticClass:\"router-link\",attrs:{\"to\":{name: 'sub-profile-tweets', params: { id: tweet.UserId }}}},[_vm._v(\" \"+_vm._s(\"@\" + _vm.currentUser.account)+\" \")]),_vm._v(\" ・ \"+_vm._s(_vm._f(\"fromNow\")(tweet.createdAt))+\" \")],1)],1),_c('div',{staticClass:\"profile__tweets__tweet__wrapper__response\"},[_c('span',{staticClass:\"response-to\"},[_vm._v(\"回覆 \"),_c('router-link',{staticClass:\"router-link\",attrs:{\"to\":{name: 'sub-profile-tweets', params: { id: tweet.Tweet.User.id }}}},[_vm._v(\" \"+_vm._s(\"@\" + tweet.Tweet.User.account)+\" \")])],1)]),_c('router-link',{staticClass:\"profile__tweets__tweet__wrapper__tweet\",attrs:{\"to\":{name: 'individual-tweet', params: {tweet_id: tweet.TweetId}}}},[_vm._v(\" \"+_vm._s(tweet.comment))])],1)],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"profile__tweets\">\n    <div v-for=\"tweet in TweetsArray\" \n    :key=\"tweet.id\"\n    class=\"profile__tweets__tweet\">\n      <router-link to=\"\" class=\"profile__tweets__tweet__avatar\">\n        <img :src=\"currentUser.avatar\" alt=\"\" class=\"user-avatar\" />\n      </router-link>\n      <div class=\"profile__tweets__tweet__wrapper\">\n        <div class=\"profile__tweets__tweet__wrapper__info\">\n          <router-link \n          :to=\"{name: 'sub-profile', params: {id: tweet.Tweet.User.id}}\" class=\"profile__tweets__tweet__wrapper__info--name\"\n            >{{currentUser.name}}</router-link\n          >\n          <div class=\"profile__tweets__tweet__wrapper__info--account\">\n            <router-link \n              :to=\"{name: 'sub-profile-tweets', params: { id: tweet.UserId }}\" \n              class=\"router-link\">\n              {{\"@\" + currentUser.account}}\n            </router-link>\n             ・ {{tweet.createdAt | fromNow}} \n          </div>\n        </div>\n        <div class=\"profile__tweets__tweet__wrapper__response\">\n          <span class=\"response-to\"\n            >回覆\n            <router-link \n            :to=\"{name: 'sub-profile-tweets', params: { id: tweet.Tweet.User.id }}\"\n            class=\"router-link\">\n              {{\"@\" + tweet.Tweet.User.account}}\n            </router-link>\n          </span>\n        </div>\n        <router-link\n          :to=\"{name: 'individual-tweet', params: {tweet_id: tweet.TweetId}}\"\n          class=\"profile__tweets__tweet__wrapper__tweet\"\n        >\n          {{tweet.comment}}</router-link\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {Toast} from '../utils/helpers'\nimport userAPI from '../apis/users'\nimport {fromNowFilter} from '../utils/mixins'\n\nexport default {\n  name: 'SubProfileResponse',\n  data () {\n    return {\n      TweetsArray: [],\n      currentUser: {},\n    }\n  },\n  mixins: [\n    fromNowFilter\n  ],\n  watch: {\n    '$route.params.id': {\n      handler: function(id) {\n        this.fetchResponses(id)\n        this.fetchCurrentUser(id)\n        // console.log(search)\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  created () {\n    // const {id} = this.$route.params\n    // this.fetchResponses(id)\n    // this.fetchCurrentUser(id)\n  },\n  methods: {\n    async fetchResponses(userId) {\n      try {\n        const {data} = await userAPI.getUserResponses({userId})\n        \n        if (data.status === 'error') {\n          throw new Error (data.message)\n        }\n\n        this.TweetsArray = data\n        console.log('re',data)\n        this.TweetsArray = this.TweetsArray.sort((a, b) => {\n          return a.createdAt > b.createdAt\n            ? -1\n            : a.Tweet.createdAt < b.Tweet.createdAt\n            ? 1\n            : 0\n        })\n         \n      } catch (error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法成功取得回覆資料！'\n        })\n      }\n    },\n    async fetchCurrentUser(userId) {\n      try {\n        const { data } = await userAPI.get({userId})\n        if (data.status !== 'success') {\n          throw new Error (data.message)\n        }\n\n        this.currentUser = data\n      } catch (error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法成功取得當前使用者！'\n        })\n      }\n    }\n  }\n}\n</script>\n\n\n<style scoped lang=\"scss\">\n.profile__tweets {\n  position: absolute;\n  top: 511px;\n  width: 100%;\n  border-top: 1px solid var(--border-and-divider);\n  &__tweet {\n    width: 100%;\n    height: 145px;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    padding: 13px 15px;\n    gap: 10px;\n    border-bottom: 1px solid var(--border-and-divider);\n    &__avatar {\n      img {\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        background-color: grey;\n      }\n    }\n    &__wrapper {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      font-size: 15px;\n      &__info {\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n        gap: 5px;\n        &--name {\n          font-weight: 700;\n          color: var(--main-font-color);\n        }\n        &--account {\n          font-weight: 500;\n          color: var(--smaller-font-color);\n          .router-link {\n            color: var(--smaller-font-color);\n          }\n        }\n      }\n      &__response {\n        .response-to {\n          color: var(--smaller-font-color);\n        }\n        .router-link {\n          color: var(--active-color);\n        }\n      }\n      &__tweet {\n        width: 100%;\n        color: var(--main-font-color);\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubProfileResponses.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubProfileResponses.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubProfileResponses.vue?vue&type=template&id=92a5e1b8&scoped=true&\"\nimport script from \"./SubProfileResponses.vue?vue&type=script&lang=js&\"\nexport * from \"./SubProfileResponses.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubProfileResponses.vue?vue&type=style&index=0&id=92a5e1b8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92a5e1b8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubProfileResponses.vue?vue&type=style&index=0&id=92a5e1b8&scoped=true&lang=scss&\""],"sourceRoot":""}